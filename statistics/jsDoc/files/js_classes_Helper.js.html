<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>js\classes\Helper.js - Newsletter API</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..\images\logo.png" title="Newsletter API"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.0.6</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/CDownload.html">CDownload</a></li>
            
                <li><a href="../classes/Cell.html">Cell</a></li>
            
                <li><a href="../classes/CellProperties.html">CellProperties</a></li>
            
                <li><a href="../classes/CImage.html">CImage</a></li>
            
                <li><a href="../classes/CKEDITOR.html">CKEDITOR</a></li>
            
                <li><a href="../classes/CKHelper.html">CKHelper</a></li>
            
                <li><a href="../classes/CLink.html">CLink</a></li>
            
                <li><a href="../classes/Content.html">Content</a></li>
            
                <li><a href="../classes/Controller.html">Controller</a></li>
            
                <li><a href="../classes/Converter.html">Converter</a></li>
            
                <li><a href="../classes/ConverterElastic.html">ConverterElastic</a></li>
            
                <li><a href="../classes/ConverterFixed.html">ConverterFixed</a></li>
            
                <li><a href="../classes/ConverterGeneral.html">ConverterGeneral</a></li>
            
                <li><a href="../classes/ConverterSimpleText.html">ConverterSimpleText</a></li>
            
                <li><a href="../classes/CTable.html">CTable</a></li>
            
                <li><a href="../classes/Document.html">Document</a></li>
            
                <li><a href="../classes/Dom.html">Dom</a></li>
            
                <li><a href="../classes/EHToolbar.html">EHToolbar</a></li>
            
                <li><a href="../classes/Factory.html">Factory</a></li>
            
                <li><a href="../classes/Helper.html">Helper</a></li>
            
                <li><a href="../classes/Image.html">Image</a></li>
            
                <li><a href="../classes/ImageProperties.html">ImageProperties</a></li>
            
                <li><a href="../classes/Link.html">Link</a></li>
            
                <li><a href="../classes/LinkDialog.html">LinkDialog</a></li>
            
                <li><a href="../classes/LinkProperties.html">LinkProperties</a></li>
            
                <li><a href="../classes/List.html">List</a></li>
            
                <li><a href="../classes/ListItem.html">ListItem</a></li>
            
                <li><a href="../classes/ListItemProperties.html">ListItemProperties</a></li>
            
                <li><a href="../classes/ListProperties.html">ListProperties</a></li>
            
                <li><a href="../classes/Mapper.html">Mapper</a></li>
            
                <li><a href="../classes/NEWSLETTER.html">NEWSLETTER</a></li>
            
                <li><a href="../classes/OList.html">OList</a></li>
            
                <li><a href="../classes/PlainText.html">PlainText</a></li>
            
                <li><a href="../classes/Properties.html">Properties</a></li>
            
                <li><a href="../classes/Row.html">Row</a></li>
            
                <li><a href="../classes/RowProperties.html">RowProperties</a></li>
            
                <li><a href="../classes/Save.html">Save</a></li>
            
                <li><a href="../classes/Selection.html">Selection</a></li>
            
                <li><a href="../classes/Table.html">Table</a></li>
            
                <li><a href="../classes/table2ModifyDialog.html">table2ModifyDialog</a></li>
            
                <li><a href="../classes/TableDialog.html">TableDialog</a></li>
            
                <li><a href="../classes/TableProperties.html">TableProperties</a></li>
            
                <li><a href="../classes/Tag.html">Tag</a></li>
            
                <li><a href="../classes/UList.html">UList</a></li>
            
                <li><a href="../classes/Unit.html">Unit</a></li>
            
                <li><a href="../classes/Worker.html">Worker</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/CKHelper.html">CKHelper</a></li>
            
                <li><a href="../modules/Config.html">Config</a></li>
            
                <li><a href="../modules/Controllers.html">Controllers</a></li>
            
                <li><a href="../modules/Converter.html">Converter</a></li>
            
                <li><a href="../modules/Dialogs.html">Dialogs</a></li>
            
                <li><a href="../modules/EventHandler.html">EventHandler</a></li>
            
                <li><a href="../modules/Helper.html">Helper</a></li>
            
                <li><a href="../modules/HtmlElements.html">HtmlElements</a></li>
            
                <li><a href="../modules/Plugins.html">Plugins</a></li>
            
                <li><a href="../modules/Properties.html">Properties</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: js\classes\Helper.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/*jslint plusplus: true, white: true */
/*global CKEDITOR, DOMParser, Properties */

/**
 * Set of useful functions
 * @module Helper
 * @class  Helper
 * @type {Object}
 */
var Helper = {
    /**
     * Converts the first letter of the string into the upper case
     * If the string is empty, the output is empty string as well.
     * @method  firstLetterUpperCase
     * @param   {String}  str
     * @return  {String}
     */
    &#x27;firstLetterUpperCase&#x27;: function(str){
        return str.substring(0, 1).toUpperCase() + str.substring(1);
    },

    /**
     * Converts the first letter of the string into the upper case
     * If the string is empty, the output is empty string as well.
     * @method  onlyFirstLetterUpperCase
     * @param   {String}     str
     * @return     {String}
     */

    &#x27;onlyFirstLetterUpperCase&#x27;: function(str){
        return str.substring(0, 1).toUpperCase() + str.substring(1).toLowerCase();
    },

    /**
     * transforms each element of the input array into a non-negative number.
     * If an element is negative, its absolute value is used.
     * If an element fails to be converted to a number, it is substituted by zero.
     * @method    sanitize
     * @example   [1.1, 2.4, 2] -&gt; [1.1, 2.4, 2],
     *            [&quot;4&quot;, -3, 3.2, &quot;a&quot;] -&gt; [4, 3, 3.2, 0]
     * @param   {Array}     arr           array of numbers
     * @return {Array}               array of numbers
     */
    &#x27;sanitize&#x27;: function(arr){
        var i, tmp, sanitized = [],
            len = arr.length;
        for (i = 0; i &lt; len; i++) {
            tmp = parseFloat(arr[i]);
            sanitized[i] = isNaN(tmp) ? 0 : Math.abs(tmp);
        }
        return sanitized;
    },

    /**
     * calculates the sum the array elements. The elements are supposed to be numbers. Otherwise nothing is guaranteed.
     * @method      trace
     * @example     [1, 2, 2] -&gt; 1 + 2 + 2 = 5
     * @param       {Array}    arr    array of numbers
     * @return      {Number}
     */
    &#x27;trace&#x27;: function(arr){
        //console.log(&#x27;caller: &#x27;, this.caller);
        var accum = 0,
            len = arr.length,
            i;
        for (i = 0; i &lt; len; i++) {
            accum = accum + arr[i];
        }
        return accum;
    },

    /**
     * normalizes the array. If all elements are equal to zero, then the elements are to be normallized uniformally.
     * If not all the elements are equal to zero, but the trace is equal to zero, then the input array is returned.
     * @method      normalize
     * @example     [1, 3, 4]       -&gt; [ 0.125, 0.375, 0.5 ]
     * @example     [2, 0, -1, -1]  -&gt; [ 2, 0, -1, -1 ]
     * @example     [0, 0]          -&gt; [ 0.5, 0.5]
     * @param   {array}     Array      of numbers
     * @return     {Array}   array of numbers
     */
    &#x27;normalize&#x27;: function(arr){
        var total = this.trace(arr),
            len = arr.length,
            result = [],
            i,
            areAllZeroes = arr.every(function (elem) {
                return elem === 0;
            });
        if (areAllZeroes) {
            arr = arr.map(function () {
                return 1;
            });
            total = len;
        }
        if (total === 0) {
            result = arr;
        } else {
            for (i = 0; i &lt; len; i++) {
                result[i] = arr[i] / total;
            }
        }
        return result;
    },

    /**
     * Slices the first argument according to the weights given by the second argument.
     * The elements of the second array are supposed to be non-negative numbers.
     * @method splitWeighted
     * @example   (10, [1, 2, 2])    -&gt; [2, 4, 4],
     *            (30, [4, 2, 3, 1]) -&gt; [12, 6, 9, 3]
     * @param   {Number}     overall       a number to be splitted
     * @param   {Array}     pieces        array of weigths
     * @return     {Array}       array of numbers
     */

    &#x27;splitWeighted&#x27;: function(overall, pieces){
        var norm = this.normalize(this.sanitize(pieces)),
            result = [],
            len = norm.length,
            i;
        for (i = 0; i &lt; len; i++) {
            result[i] = overall * norm[i];
        }
        return result;
    },

    /**
     * rounds each elements of the array
     * @method roundUp
     * @example [1, 2.2, 5.6, 0, 4.5] -&gt; [1, 2, 6, 0, 5]
     * @param   {Array}     arr            array of numbers
     * @return     {Array}       array of integers
     */

    &#x27;roundUp&#x27;: function(arr){
        return arr.map(function (elem) {
            return Math.round(elem);
        });
    },

    /**
     * composition of roundUp and splitWeighted
     * @method   columnWidths
     * @param    {Number}    overall            table width
     * @param    {Array}     pieces             array of numbers
     * @return   {Array}     array of integers
     */

    &#x27;columnWidths&#x27;: function(overall, pieces){
        return this.roundUp(this.splitWeighted(overall, pieces));
    },

    /**
     * Modification of {{#crossLink &quot;Helper/columnWidths:method&quot;}}columnWidths{{/crossLink}} method:
     * returns splitting of number &#x60;overall&#x60; in integers according to weights &#x60;pieces&#x60;, but the last
     * array element absorbs eventual neglected fractions of the previous elements such that the sum
     * of all elements is equactly equal to &#x60;overall&#x60;.
     *
     * @method   columnWidth2
     * @param    {Number}    overall            table width
     * @param    {Array}     pieces             array of numbers
     * @return   {Array}     array of integers
     */
    &#x27;columnWidths2&#x27;: function(overall, pieces){
        var res = this.columnWidths(overall, pieces),
            sum = res.reduce(function(a, b) {
                return a + b;
            }),
            defect = overall - sum,
            len = pieces.length;
        if (defect !== 0 &amp;&amp; len &gt; 0){
            res[len - 1] += defect;
        }
        return res;
    },

    /**
     * Deletes the protocol name from the url.
     * Everything until the first occurence of &#x27;://&#x27; will be removed (inclusively).
     * @method   dropProtocol
     * @param    {String}     url
     * @example  &#x27;http://www.test.com&#x27;      -&gt; &#x27;www.test.com&#x27;
     * @example  &#x27;www.test.com&#x27;             -&gt; &#x27;www.test.com&#x27;
     * @return   {String}               url without protocol name
     */
    &#x27;dropProtocol&#x27;: function(str){
        var delimiter = &#x27;://&#x27;,
            pattern = &#x27;^[^&#x27; + delimiter + &#x27;]+&#x27; + delimiter,
            re = new RegExp(pattern, &#x27;gi&#x27;);
        return str.replace(re, &#x27;&#x27;);
    },

    /**
     * Gives file extension.
     * @method fileExt
     * @param  {String}     fileName
     * @return {String}
     */
    &#x27;fileExt&#x27;: function(str){
        var delimiter = &#x27;.&#x27;;
        return str.indexOf(delimiter) !== -1 ? str.split(delimiter).pop() : &#x27;&#x27;;
    },

    /**
     * Gives the validated width. If the width is given in &quot;px&quot; or &quot;pt&quot;, the integer part is given.
     * If the length is given in &quot;em&quot; or &quot;%&quot;, it is left as it is.
     * @method validateWidth
     * @param   {String}     str
     * @return     {String}
     */
    &#x27;validateWidth&#x27;: function(str){
        &quot;use strict&quot;;
        var unit, output = false,
            units = {
                &#x27;integer&#x27;: [&#x27;px&#x27;, &#x27;pt&#x27;],
                &#x27;others&#x27;: [&#x27;em&#x27;, &#x27;%&#x27;]
            },
            number = parseFloat(str);
        if (isNaN(number)) {
            return false;
        }
        unit = str.replace(number.toString(), &#x27;&#x27;).trim();
        if (units.integer.indexOf(unit) !== -1) {
            output = Math.floor(number).toString() + unit;
        }
        if (units.others.indexOf(unit) !== -1) {
            output = number.toString() + unit;
        }
        return output;
    },

    /**
     * Replaces special characters present in the input string by their unicodes. It is supposed to replace symbols like à, ò, è, é
     * and not a, b, c etc. For the moment it replaces any characters which unicode is outside the range [32, 125].
     *
     * This function seems useless for the moment, because after execution of this method, symbol &quot;à&quot; gets changed into &quot;&amp;#224;&quot;, but
     * the editor automatically changes the newly appeared &quot;&amp;&quot; into &quot;&amp;amp;&quot; so that &quot;à&quot; becomes &quot;&amp;amp;#224;&quot;.
     *
     * @method specialChar
     * @param  {string}     str
     * @return {string}
     */
    &#x27;specialChar&#x27;: function(str){
        var typeStr = typeof str,
            len, i, code, symb, output = &#x27;&#x27;;
        if (typeStr === &#x27;function&#x27; || typeStr === &#x27;object&#x27;){
            return null;
        }
        if (typeStr === &#x27;number&#x27;){
            return str;
        }
        len = str.length;
        for (i = 0; i &lt; len; i++){
            code = str.charCodeAt(i);
            symb = (code &gt; 31 &amp;&amp; code &lt; 126) ? str[i] : &#x27;&amp;#&#x27; + code + &#x27;;&#x27;;
            output += symb;
        }
        return output;
    },


    /**
     * Splits array element at position &quot;pos&quot; in two parts in such a way that the trace of the original array
     * is equal to the trace of the output array. If it is the first element of the array to be splitted, then
     * it is splitted in 1/2 and 1/2 (up to the truncation). If the element has a left neighbour, then the neighbour
     * and the element are taken off 1/3 and these two parts are given to the newly created element that is inserted
     * between the neighbour and the element: [a, b, ...] -&gt; [2/3 a, 1/3 (a + b), 2/3 b, ...]
     * @method         crack
     * @param          {Array}              arr         array of integers
     * @param          {Number}             pos         index of the element, before which an element will be inserted
     * @return         {Array}              array of integers
     */
    &#x27;crack&#x27;: function(arr, pos){
        var orig, orig1, orig2, neighbour, neighbour1, neighbourDonor,
            output = [],
            len = arr.length,
            i;
        for(i = 0; i &lt; len; i++){
            output[i] = arr[i];
        }
        if (pos === 0){
            orig = output[0];
            orig1 = parseInt(orig/2, 10);
            orig2 = orig - orig1;
            neighbourDonor = 0;

        }
        if(pos &gt; 0 &amp;&amp; pos &lt; arr.length){
            orig = output[pos];
            orig1 = parseInt(2 * orig/3, 10);
            orig2 = orig - orig1;
            neighbour = arr[pos - 1];
            neighbour1 = parseInt(2 * neighbour/3, 10);
            neighbourDonor = neighbour - neighbour1;
            output[pos-1] = neighbour1;
        }
        output[pos] = orig1;
        output.splice(pos, 0, orig2 + neighbourDonor);
        return output;
    },

    /**
     * Flatten the object. This function was written because Node::attributes returns attributes in format
     * {&#x27;1&#x27;: {name: &quot;width&quot;, value:&quot;100&quot;, ...}, &#x27;2&#x27;: {name: &quot;color&quot;, value:&quot;black&quot;, ...}, ...} -&gt; {&quot;width&quot;:&quot;100&quot;, &quot;color&quot;:&quot;black&quot;, ...}
     * @method  flatten
     * @param   {Object}        obj
     * @return  {Object}
     * @deprecated              This method is incorporated in &quot;load&quot; methods of Attributes and Style classes.
     */
    // &#x27;flatten&#x27;: function(obj){
    //     var attr, value, output = {};
    //     for (attr in obj){
    //         if (obj.hasOwnProperty(attr)){
    //             value = obj[attr];
    //             if (typeof value === &#x27;object&#x27;){
    //                 output[value.name] = value.value;
    //             }
    //         }
    //     }
    //     return output;
    // },

    /**
     * Sandwiches the midlle string with the left and the right ones. If the middle one is empty, empty string is returned.
     * If the right arguments is not given, the left one is used.
     * @method sandwichWith
     * @param  {String} left
     * @param  {String} middle
     * @param  {String} right
     * @type   String|Null
     * @return {String|Null}
     */
    &#x27;sandwichWith&#x27;: function(left, middle, right){
        var m, r;
        if ((typeof middle === &quot;string&quot;) || (typeof left === &quot;string&quot;)){
            r = right || left;
            m = middle.trim();
            return m ? left + m + r : &#x27;&#x27;;
        }
    },

    /**
     * Glues all elements of the array, replace trailing spaces and repaces multiple spaces with a single one.
     * @method concatDropSpaces
     * @param {Array} arr
     * @param {String} glue glue string
     * @return {String}
     */
    &#x27;concatDropSpaces&#x27;: function(arr, glue){
        if (glue === undefined){
            glue = &#x27; &#x27;;
        }
        return arr.join(glue).replace(/\s+/g, &#x27; &#x27;).trim();
    },

    /**
     * Generates a string that can be used as id for the elements of the string &#x60;str&#x60;. This means that
     * the generated string must be not present among id&#x27;s of the elements of the string &#x60;str&#x60;, while it might
     * be present as a content of the elements. The second argument &#x60;seed&#x60; serves as a hint to create the id:
     * if the hint string is available as id, it will be returned. Otherwise, a random symbol from 0-9, a-z
     * will be appended to the hint string until it becomes a valid id.
     * @method generateId
     * @method str
     * @param  {String|Null} seed
     * @return {String}
     */
    &#x27;generateId&#x27;: function(str, seed){
        var parser = new DOMParser(),
            doc = parser.parseFromString(str, &#x27;text/html&#x27;),
            id,
            pool = &#x27;0123456789abcdefghijklmnopqrstuvwxyz&#x27;,
            poolLen = pool.length;
            id = seed || pool.substr(Math.floor(Math.random()*(poolLen+1)), 1) + pool.substr(Math.floor(Math.random()*(poolLen + 1)), 1);
        // generate a unique id for the overall document
        while(doc.getElementById(id)){
            id += pool.substr(Math.floor(Math.random()*(poolLen + 1)), 1);
        }
        // console.log(&#x27;returning id &#x27; + id);
        return id;
    },

    /**
     * Inserts element into array &#x60;arr&#x60; just before the last element. If the array is empty,
     * the element is inserted into array (so that the element becomes the first and the last
     * element of the array).
     * @method  pushBeforeLast
     * @param  {Array}   arr     array into which an element is to be inserted
     * @param  {Any}     elem    the element to be inserted
     * @return {void}
     */
    pushBeforeLast: function(arr, elem){
        if(elem !== undefined){
            if (arr.length === 0){
                arr.push(elem);
            } else {
                var last = arr.pop();
                arr.push(elem);
                arr.push(last);
            }
        }
    },

    /**
     * Returns true if the string is a semantically valid html string.
     * @method isSemanticallyValid
     * @param  {String}         str
     * @return {Boolean}
     */
    isSemanticallyValid: function(str){
        var parser = new DOMParser(),
            id = Helper.generateId(str, &#x27;fakeId&#x27;),
            doc = parser.parseFromString(&#x27;&lt;div id=&quot;&#x27; + id + &#x27;&quot;&gt;&#x27; + str + &#x27;&lt;/div&gt;&#x27;, &#x27;text/html&#x27;),
            node = doc.getElementById(id);
        return node.innerHTML === str.trim();
    },

    /**
     * Picks up styles of &#x60;sel&#x60; from css string &#x60;str&#x60;. Value corresponding to each occurence
     * of &#x60;sel&#x60; is passed to {{#crossLink &quot;Styles&quot;}}Styles{{/crossLink}} constructor and transformed
     * into a string representation. After all, these strings are concatenated using semicolon as separator.
     * @method         cssOfSelector
     * @param          {String}             sel         name of selector
     * @param          {String}             str         css string (i.e: &quot;div {width: 100px; color: red} img {float: left;}&quot;)
     * @return         {String}                         all styles of the selector
     */
    cssOfSelector: function(sel, str){
        var pattern = sel + &#x27;\\s*\\{([^{}]+?)\\}&#x27;,
            regexp = new RegExp(pattern, &#x27;gi&#x27;),
            found = str.match(regexp);
        if(!found){
            return &#x27;&#x27;;
        }
        var result = new Properties();
        result.setMode(1);
        regexp = new RegExp(pattern, &#x27;i&#x27;);
        found.forEach(function(item){
            var content = item.match(regexp);
            if (content &amp;&amp; content[1]){
                result.appendProperty(content[1]);
            }
        });
        return result.toString();
    },

    /**
     * Implementation of Euclid&#x27;s algorithm for greatest common divisor of numbers &#x60;m&#x60; and &#x60;n&#x60;.
     * &lt;ul&gt;&lt;li&gt;
     * If among input numbers there is a float number, then 1 is returned.
     * &lt;/li&gt;&lt;li&gt;
     * If among input numbers there is one zero and one non-zero integer, then that integer is returned.
     * &lt;/li&gt;&lt;li&gt;
     * If among input numbers there is one zero and one non-zero float, then 1 is returned.
     * &lt;/li&gt;&lt;li&gt;
     * If both input numbers are zero, then 1 is returned.
     * &lt;/li&gt;&lt;/ul&gt;
     * @method         gcd
     * @param          {Integer}         m
     * @param          {Integer}         n
     * @return         {Integer}
     * @since          0.0.6
     */
    gcd: function(m, n){
        if (typeof n !== &#x27;number&#x27; || typeof m !== &#x27;number&#x27;){
            throw new Error(&#x27;Arguments must be numbers!&#x27;);
        }
        if (!Number.isInteger(m) || !Number.isInteger(n)){
            return 1;
        }
        if (m === 0){
            return n === 0 ? 1 : n;
        }
        if (n === 0){
            return m;
        }
        // initialize with possibly in-correct values
        var max = Math.abs(m),
            min = Math.abs(n);
        // switch min and max if they were assigned wrong values
        if (min &gt; max){
            var tmp = min;
            min = max;
            max = tmp;
        }
        return this.gcd(min, max % min);
    },

    /**
     * Returns gcd of all input array element.
     * &lt;ul&gt;&lt;li&gt;
     * If &#x60;numbers&#x60; is an empty array, nothing is returned.
     * &lt;/li&gt;&lt;li&gt;
     * If &#x60;numbers&#x60; contains just one element, then either that element (if it is non-zero integer) or 1
     * (in all other cases) is returned.
     * &lt;/li&gt;&lt;li&gt;
     * If &#x60;numbers&#x60; contains exactly two elements, then output of
     * {{#crossLink &quot;Helper/gcd:method&quot;}}gcd{{/crossLink}} is returned.
     * &lt;/li&gt;&lt;li&gt;
     * If &#x60;numbers&#x60; contains more than two elements, then the last two elements are replaced by their
     * {{#crossLink &quot;Helper/gcd:method&quot;}}gcd{{/crossLink}} and a new recursive call of
     * {{#crossLink &quot;Helper/gcdList:method&quot;}}gcdList{{/crossLink}} with shorter input array is performed.
     * &lt;/li&gt;&lt;/ul&gt;
     * @method         gcdList
     * @param          {Array}         numbers
     * @return         {Integer}
     * @since          0.0.6
     */
    gcdList: function(numbers){
        if (!Array.isArray(numbers)){
            throw new Error(&#x27;Array is expected.&#x27;);
        }

        // replace negative elements by their absolute values
        var absValues = numbers.map(function(n){return n &lt; 0 ? -n : n;});
        var len = absValues.length;
        if (len === 1){
            return Number.isInteger(absValues[0]) &amp;&amp; absValues[0] &gt; 0 ? absValues[0] : 1;
        }
        if (len === 2){
            return Helper.gcd(absValues[0], absValues[1]);
        }
        if  (len &gt; 2){
            var last1 = absValues.pop(),
                last2 = absValues.pop();
            absValues.push(Helper.gcd(last1, last2));
            return Helper.gcdList(absValues);
        }
    },


    /**
     * Cancelling common factors of each array element.
     *
     * Divides each element of the input array by its gcd.
     * @method         divideByGcd
     * @param          {Array}         numbers    array of numbers
     * @return         {Array}         array of numbers
     */
    divideByGcd: function(numbers){
        var gcd;
        try {
            gcd = Helper.gcdList(numbers);
        } catch(e){
            console.log(&#x27;There was an error &#x27; + e.message + &#x27; when finding gcd for &#x27;, numbers);
            return;
        }
        return gcd === 0 ? numbers : numbers.map(function(n){return n / gcd;});
    }
};

Array.prototype.concatDropSpaces = function(glue){
    return Helper.concatDropSpaces(this, glue);
};

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
