function Content(t){"use strict";if(!(this instanceof Content))return new Content(t||null);var n="Content",e=t?[t]:[];this.getName=function(){return n},this.getElements=function(){var t=[];return e.forEach(function(n){var e="function"==typeof n.clone?n.clone():n;t.push(e)}),t},this.setElements=function(t){Array.isArray(t)&&(e=t)},this.length=function(){return e.length},this.getElem=function(t){var n=e[t];return void 0!==n?"function"==typeof n.clone?n.clone():n:null},this.getFirst=function(){return this.getElem(0)},this.getLast=function(){var t=this.length();return t>0?this.getElem(t-1):null},this.insertElemAt=function(t,n){var i=this.length(),r=parseInt(t,10)===t;if(!r||0>t||t>i)throw new Error("Wrong index to insert the element at!");return t===i?this.appendElem(n):e.splice(t,0,n),null},this.flush=function(){e=[]},this.appendElem=function(t){return void 0!==t&&(t instanceof Content?this.absorb(t):e.push(t)),null},this.absorb=function(t){if(t instanceof Content){var n=t.getElements();n.forEach(function(t){e.push(t)})}},this.dropElemAt=function(t){var n=e[t];return void 0!==n?(e.splice(t,1),n):void 0},this.dropFirst=function(){this.dropElemAt(0)},this.dropLast=function(){var t=this.length();t>0&&this.dropElemAt(t-1)},this.toHtml=function(){var t,n,e,i="",r=this.length();for(t=0;r>t;t++)switch(n=this.getElem(t),typeof n){case"string":i+=n;break;case"number":i+=n.toString();break;default:e="function"==typeof n.toHtml,i+=e?n.toHtml():"<!-- no html representation -->"}return i},this.toText=function(){var t,n,e="",i=this.length();for(t=0;i>t;t++)switch(n=this.getElem(t),typeof n){case"string":e+=n;break;case"number":e+=n.toString();break;default:"function"==typeof n.toText&&(e+=n.toText())}return e},this.isEmpty=function(){var t,n,e,i=!0,r=this.length();for(t=0;r>t;t++)if(n=this.getElem(t),"function"==typeof n.isEmpty){if(i=n.isEmpty(),!i)return!1}else{if(e=typeof n,"number"===e)return!1;if("string"===e)return"&nbsp;"===n||""===n;if("object"===e&&0!==Object.getOwnPropertyNames(n).length)return!1}return i},this.isElemEmpty=function(t){switch(typeof t){case"object":if("function"==typeof t.isEmpty)return t.isEmpty();if(0===Object.getOwnPropertyNames(t).length)return!0;if(Array.isArray(t))return 0===t.length;break;case"string":if(""===t)return!0}return!1},this.appendElemIfNotEmpty=function(t){this.isElemEmpty(t)||this.appendElem(t)},this.load=function(t){if(Array.isArray(t)&&NEWSLETTER.factory){{var n=NEWSLETTER.factory,e=[];t.length}return t.forEach(function(t){var i=n.mimic(t);e.push(i)}),this.setElements(e),!0}return!1},this.stickTo=function(t){"function"==typeof t.appendChild&&e.forEach(function(n){t.appendChild("function"==typeof n.toNode?n.toNode():document.createTextNode(n))})},this.clone=function(){var t=new Content;return e.forEach(function(n){var e="function"==typeof n.clone?n.clone():n;t.appendElem(e)}),t},this.appendStyleToElemAt=function(t,n){var i=e[t];void 0!==i&&"function"==typeof i.appendStyle&&i.appendStyle(n)},this.findTagPos=function(t){var n=[];return e.forEach(function(e,i){e&&"function"==typeof e.getTag&&e.getTag()===t&&n.push(i)}),n},this.getFirstEntryOfTag=function(t){for(var n,e=this.length(),i=0;e>i;){if(n=this.getElem(i),"function"==typeof n.getTag&&n.getTag()===t)return n;i++}},this.filterOut=function(t){var n=e.filter(function(n){return t(n)});e=n},this.applyToAll=function(t){e&&"function"==typeof t&&e.forEach(function(n){t(n)})},this.template=function(){var t=this.getElements(),n=[];return Array.isArray(t)&&t.length>0&&t.forEach(function(t){var e;try{e=t.template()}catch(i){e=null}n.push(e)}),n},this.loadTemplateBunch=function(t){var n=this.getElements();if(Array.isArray(n)&&Array.isArray(t)&&0!==t.length){var e,i,r=n.length;for(e=0;r>e;e++)try{t[e]&&(i=t[e]),n[e].loadTemplate(i)}catch(o){console.log(o.name+" when loading template into child n."+e+": "+o.message)}this.setElements(n)}}}