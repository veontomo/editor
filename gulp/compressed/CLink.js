function CLink(){"use strict";return this instanceof CLink?(Controller.call(this),this.setModel(Link),this.onOk=function(t,e,i){var n,o,r,l,s,a,c,d,g;try{if(n=this.getEditorAdapter(),c=n.getCursorPosition(e),!c)return;o=this.getWorker(),r=n.getEditorContent(e),l=n.getDialogData(t),s=n.dialogToTemplate(l,"link"),a=o.createFromTemplate(s),g={linkInfoTab:"content"},d=n.isFieldEnabled(t,g)===!0,d&&a.setContent(n.getFieldValue(t,g)),i&&i.target?o.modifyLink(i.target,a.toNode()):i&&i.selection?o.isSelectionEditable(i.selection)?o.replaceSelectionByLink(i.selection,a.toNode()):o.selectionToLink(i.selection,a.toNode()):o.insertAt(c.startContainer,a.toNode(),c.startOffset),n.setEditorContent(e,r)}catch(h){console.log(h.name+" occurred when inserting link: "+h.message)}},this.fillInDialogWithSelection=function(t,e){var i,n,o,r,l;try{i=this.getEditorAdapter(),n=i.getNativeRanges(e),o=this.getWorker(),r=o.findSelectionFirstAncestor(n,this.getModel().prototype.characteristicFunction),l=o.selectionToString(n),r&&(this.fillInDialogWithElement(t,r),this.saveExtra(t,r)),l&&this.setDialogInputField(t,{tabId:"linkInfoTab",elemId:"content",value:l})}catch(s){console.log(s.name+" occurred when filling in link dialog: "+s.message)}},void(this.unlink=function(t,e){var i,n,o;try{i=this.getEditorAdapter(),n=this.getWorker(),o=i.getEditorContent(t),n.clearNodeFromLink(e),i.setEditorContent(t,o)}catch(r){console.log(r.name+" occurred when stripping link: "+r.message)}})):new CLink}CLink.prototype=Object.create(Controller.prototype);