function Controller(){"use strict";if(!(this instanceof Controller))return new Controller;var t;this.setContent=function(e){t=e instanceof Node?e:void 0},this.getContent=function(){return t};var e;this.setWorker=function(t){e=t},this.getWorker=function(){return e};var o;this.getEditorAdapter=function(){return o},this.setEditorAdapter=function(t){o=t},this.getEditorSelection=function(t){var e;try{return e=this.getEditorAdapter(),e.getNativeRanges(t)}catch(o){console.log(o.name+" occurred when retrieving editor selection: "+o.message)}};var i;this.setModel=function(t){i=t},this.getModel=function(){return i},this.disableField=function(t,e){var o;try{o=this.getEditorAdapter(),o.disableField(t,e)}catch(i){console.log(i.name+": failed to disable the dialog field. Message: "+i.message)}},this.showMessage=function(t){alert("string"==typeof t?t:"Error occurred!")},this.onLoad=function(t,e,o){console.log(t,e,o)},this.onShow=function(t,e,o){console.log(t,e,o)},this.onOk=function(t,e,o){console.log(t,e,o)},this.onCancel=function(t,e,o){console.log(t,e,o)},this.templateToDialog=function(t,e){try{var o=this.getEditorAdapter(),i=o.templateToDialog(t,e);return i}catch(n){console.log(n.name+" occurred when converting template to dialog: "+n.message)}},this.dialogToTemplate=function(t,e){try{var o=this.getEditorAdapter(),i=o.templateToDialog(t,e);return i}catch(n){console.log(n.name+" occurred when converting dialog to template: "+n.message)}},this.findRepresentativeAncestor=function(t){var e=this.getEditorAdapter(),o=e.toNativeElement(t);if(o)return this.findRepresentativeAncestorOfNode(o)},this.findRepresentativeAncestorFromCursorPosition=function(t){var e=this.getEditorAdapter(),o=e.getCursorPosition(t);if(o){var i=o.startContainer;return this.findRepresentativeAncestorOfNode(i)}},this.findRepresentativeAncestorOfNode=function(t){var e,o,i,n=this.getWorker(),r=this.getModel();return r&&(o=r.prototype,o&&(e=o.characteristicFunction)),"function"==typeof e&&(i=n.findAncestor(t,e)),i},this.fillInDialogWithElement=function(t,e){var o,i,n,r,s;try{if(o=this.getEditorAdapter(),i=this.getWorker(),n=i.getFactory().mimic(e),!n)return;s=n.template(),r=o.templateToDialog(s),console.log("data to fill in the dialog: ",r),o.fillInDialog(t,r)}catch(a){console.log(a.name+" occurred when filling in dialog with data: "+a.message)}},this.fillInDialogWithSelection=function(t,e){console.log(t,e),console.warn("Controller.fillInDialogWithSelection() is called, but its implementation is trivial (it does nothing).")},this.saveExtra=function(t,e){var o;try{o=this.getEditorAdapter(),o.saveExtra(t,e)}catch(i){console.log(i.name+" occurred when saving extra information: ",i.message)}},this.getExtra=function(t){var e;try{return e=this.getEditorAdapter(),e.getExtra(t)}catch(o){console.log(o.name+" occurred when getting extra information: "+o.message)}},this.setDialogInputField=function(t,e){var o=this.getEditorAdapter();o.setDialogInputField(t,e)},this.setDialogHtmlField=function(t,e){var o=this.getEditorAdapter();o.setDialogHtmlField(t,e)},this.createModel=function(){var t;try{if(t=this.getModel(),"function"==typeof t)return new t}catch(e){console.log(e.name+" occurred when controller was creating an element: "+e.message)}},this.isNodeEditable=function(t){var e,o;try{e=this.getWorker(),o=e.isNodeEditable(t)}catch(i){console.log(i.name+": the node is assigned as non-editable because "+i.message),o=!1}return o},this.isSelectionEditable=function(t){var e,o;try{e=this.getWorker(),o=e.isSelectionEditable(t)}catch(i){console.log(i.name+": the node is assigned as non-editable because "+i.message),o=!1}return o},this.removeNode=function(t,e){var o,i,n;try{o=this.getEditorAdapter(),n=o.getEditorContent(t),i=this.getWorker(),i.removeNode(e),o.setEditorContent(n)}catch(r){console.log(r.name+" occurred when removing a node: "+r.message)}}}