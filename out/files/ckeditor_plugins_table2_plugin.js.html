<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>ckeditor\plugins\table2\plugin.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Attributes.html">Attributes</a></li>
            
                <li><a href="../classes/BorderStyle.html">BorderStyle</a></li>
            
                <li><a href="../classes/Cell.html">Cell</a></li>
            
                <li><a href="../classes/Content.html">Content</a></li>
            
                <li><a href="../classes/createRowFromHtml.html">createRowFromHtml</a></li>
            
                <li><a href="../classes/createTableFromHtml.html">createTableFromHtml</a></li>
            
                <li><a href="../classes/ImageStyle.html">ImageStyle</a></li>
            
                <li><a href="../classes/isFramedTable.html">isFramedTable</a></li>
            
                <li><a href="../classes/LinkStyle.html">LinkStyle</a></li>
            
                <li><a href="../classes/List.html">List</a></li>
            
                <li><a href="../classes/ListItem.html">ListItem</a></li>
            
                <li><a href="../classes/ListItemStyle.html">ListItemStyle</a></li>
            
                <li><a href="../classes/ListStyle.html">ListStyle</a></li>
            
                <li><a href="../classes/Row.html">Row</a></li>
            
                <li><a href="../classes/Style.html">Style</a></li>
            
                <li><a href="../classes/Table.html">Table</a></li>
            
                <li><a href="../classes/TableAttributes.html">TableAttributes</a></li>
            
                <li><a href="../classes/TableCellStyle.html">TableCellStyle</a></li>
            
                <li><a href="../classes/TableRowStyle.html">TableRowStyle</a></li>
            
                <li><a href="../classes/TableStyle.html">TableStyle</a></li>
            
                <li><a href="../classes/Tag.html">Tag</a></li>
            
                <li><a href="../classes/TextStyle.html">TextStyle</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/attributes.html">attributes</a></li>
            
                <li><a href="../modules/helpers.html">helpers</a></li>
            
                <li><a href="../modules/HtmlElements.html">HtmlElements</a></li>
            
                <li><a href="../modules/String.html">String</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: ckeditor\plugins\table2\plugin.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/*global CKEDITOR, location, NEWSLETTER, Table, Row, Cell, Style, trace, crack, Attributes */
/*jslint plusplus: true, white: true */
/**
 * Finds the nearest ascendant of the &quot;elem&quot; for which &quot;filter&quot; returns true
 * @param {CKEDITOR.dom.element} elem
 * @param  {function} filter
 * @return {CKEDITOR.dom.element|null}
 */
var findAscendant = function (elem, filter) {
		if (typeof filter !== &#x27;function&#x27;) {
			return null;
		}
		while (elem &amp;&amp; elem.type === CKEDITOR.NODE_ELEMENT) {
			if (filter(elem)) {
				return elem;
			}
			elem = elem.getParent();
		}
		return null;
	};

/**
 * Drops the table row. If after removing the table becomes empty, then removes it as well.
 */
var dropRow = function (ed) {
		var row = findAscendant(ed.getSelection().getStartElement(), function (el) {
			return ((el.getName() === &quot;tr&quot;) &amp;&amp; (el.getAttribute(NEWSLETTER[&#x27;marker-name&#x27;]) === &quot;Row&quot;));
		}),
			parentTable, tableLength;
		if (row) {
			parentTable = findAscendant(row, function (el) {
				return el.getName() === &#x27;table&#x27;;
			});
			row.remove();
			// calculating the number of remaining rows
			tableLength = parentTable.getElementsByTag(&#x27;tr&#x27;).count();
			if (tableLength === 0) {
				parentTable.remove();
			}
		}
	};

/**
 * Inserts a row at a specified position with respect to the selected element.
 * The command to insert the row is obtained by capitalizing the second argument
 * and appending it to the string &#x27;insert&#x27;. Example: if pos is &#x27;after&#x27;, the command
 * to be executed is &#x27;insertAfter&#x27;.
 * @param {Object}	ed 		CKEDITOR.editor
 * @param {String}	pos 	String 	where to insert the element with respect to the current one.
 */
var insertRow = function (ed, pos) {
		var tag = &#x27;tr&#x27;,
			dataMarkerAttr = NEWSLETTER[&#x27;marker-name&#x27;],
			dataMarkerVal = &#x27;Row&#x27;,
			currentElem = ed.getSelection().getStartElement(),
			newElement, operation, currentChildren, childNum, i, child, newChild, row = currentElem.getAscendant(tag, true);
		// looking for the table row marked as data-marker=&quot;row&quot;
		while (!((row.getName() === tag) &amp;&amp; (row.getAttribute(dataMarkerAttr) === dataMarkerVal))) {
			row = row.getParent();
			// whether the newly defined element exists and is of CKEDITOR type
			if (!(row &amp;&amp; row.type === CKEDITOR.NODE_ELEMENT)) {
				return null; // exit in case no element is found in the DOM
			}
		}
		newElement = new CKEDITOR.dom.element(tag);
		operation = &#x27;insert&#x27; + firstLetterUpperCase(pos);
		currentChildren = row.getChildren();
		childNum = currentChildren.count();

		if (newElement[operation] !== undefined) {
			newElement[operation](row);
		} else {
			return null;
		}

		row.copyAttributes(newElement);
		for (i = 0; i &lt; childNum; i++) {
			child = currentChildren.getItem(i);
			newChild = new CKEDITOR.dom.element(child.getName());
			newChild.setHtml(row.getChild(i).getHtml());
			newElement.append(newChild);
			child.copyAttributes(newChild);
		}
	};


/**
 * Inserts a column in the table. The localtion of the column to insert is given by the second
 * argument that admits two values &quot;before&quot; and &quot;after&quot; and is inserted before or after the column
 * of the selected cell, respectively.
 * @param  {Object} ed       CKEDITOR.editor
 * @param  {String} pos      &quot;before&quot; or &quot;after&quot;: location of the column to insert w.r.t. the current cell
 * @return {void}
 */
var insertColumn = function(ed, pos){
	if (pos !== &#x27;before&#x27; &amp;&amp; pos !== &#x27;after&#x27;){
		return null;
	}
	var cell, cellObj, cellObjStyle, cellObjAttr, cellIndex, parentTable, newTableProfile,
		cellToInsert, cellToInsertAttr, cellToInsertStyle, tableProfile, newTable, tableObj,
		// offset to be added for the insertion of the column
		offset;

	// find the current cell, and not a bogus cell
	cell = findAscendant(ed.getSelection().getStartElement(), function (el) {
		var marker = (new Cell()).getType();
		return (el.getName() === &#x27;td&#x27; &amp;&amp; el.getAttribute(NEWSLETTER[&#x27;marker-name&#x27;]) === marker);
	});
	// find parent table to be sure that we treat a cell and not a bogus cell.
	parentTable = findAscendant(ed.getSelection().getStartElement(), function (el) {
		var marker = (new Table()).getType();
		return (el.getName() === &#x27;table&#x27; &amp;&amp; el.getAttribute(NEWSLETTER[&#x27;marker-name&#x27;]) === marker);
	});

	cellIndex = cell.getIndex();
	// create objects in order to retrieve their properties
	cellObj = cell.getOuterHtml().createCellFromHtml();
	tableObj = parentTable.getOuterHtml().createTableFromHtml();
	cellObjStyle = cellObj.style;
	cellObjAttr = cellObj.attr;
	tableProfile = tableObj.getProfile();

	newTableProfile = crack(tableProfile, cellIndex);

	cellToInsert = new Cell(&#x27;cella&#x27;);
	cellToInsertAttr = new Attributes(cellObjAttr);
	cellToInsertStyle = new Style(cellObjStyle);


	if (pos === &#x27;before&#x27;){
		offset = 0;
		cellToInsertStyle[&#x27;padding-right&#x27;] = 0;
		tableObj.appendStyleToCol(cellIndex, &#x27;padding-left: 0px&#x27;);
	}

	if (pos === &#x27;after&#x27;){
		offset = 1;
		cellToInsertStyle[&#x27;padding-left&#x27;] = 0;
		tableObj.appendStyleToCol(cellIndex, &#x27;padding-right: 0px&#x27;);
	}


	// binding the styles and attributes to the newly created cell
	cellToInsert.attr  = cellToInsertAttr;
	cellToInsert.style = cellToInsertStyle;

	// offset variable is responsible for insertion &#x27;before&#x27; or &#x27;after&#x27;
	tableObj.insertColumnAt(cellIndex + offset, cellToInsert);
	tableObj.setProfile(newTableProfile);

	newTable = CKEDITOR.dom.element.createFromHtml(tableObj.toHtml());
	parentTable.remove();
	// call a custom method to insert the table and assign hovering effects on it
	ed.insertTableWithHoverEff(newTable);
};

CKEDITOR.plugins.add(&#x27;table2&#x27;, {
	// Register the icons.
	icons: &#x27;table2&#x27;,
	// The plugin initialization logic goes inside this method.
	init: function (editor) {
		// Define an editor command that opens our dialog.
		editor.addCommand(&#x27;table2Dialog&#x27;, new CKEDITOR.dialogCommand(&#x27;table2Dialog&#x27;));
		editor.addCommand(&#x27;table2ResizeColumns&#x27;, new CKEDITOR.dialogCommand(&#x27;table2ResizeColumnsDialog&#x27;));
		editor.addCommand(&#x27;table2DropColumn&#x27;, new CKEDITOR.dialogCommand(&#x27;table2DropColumnDialog&#x27;));
		editor.addCommand(&#x27;table2InsertColumnBefore&#x27;, {
			exec: function(ed){
				insertColumn(ed, &#x27;before&#x27;);
			}
		});

		editor.addCommand(&#x27;table2InsertColumnAfter&#x27;, {
			exec: function(ed){
				insertColumn(ed, &#x27;after&#x27;);
			}
		});

		editor.addCommand(&#x27;table2AddRowBefore&#x27;, {
			exec: function (editor) {
				insertRow(editor, &#x27;before&#x27;);
			}
		});

		editor.addCommand(&#x27;table2AddRowAfter&#x27;, {
			exec: function (editor) {
				insertRow(editor, &#x27;after&#x27;);
			}
		});

		editor.addCommand(&#x27;table2DeleteRow&#x27;, {
			exec: function (editor) {
				dropRow(editor);
			}
		});

		editor.addCommand(&#x27;table2DeleteTable&#x27;, {
			exec: function (ed) {
				var tableMarker = (new Table()).getType(), // string with which tables are marked
					markerName = NEWSLETTER[&#x27;marker-name&#x27;],
					table = findAscendant(ed.getSelection().getStartElement(), function (el) {
					return ((el.getName() === &#x27;table&#x27;) &amp;&amp;
						(el.getAttribute(markerName) === tableMarker));
				});
				if (table) {
					table.remove();
				}
			}
		});

		// Create a toolbar button that executes the above command.
		editor.ui.addButton(&#x27;Table2&#x27;, {
			// The text part of the button (if available) and tooptip.
			label: editor.lang.table.toolbar,
			// The command to execute on click.
			command: &#x27;table2Dialog&#x27;,
			// The button placement in the toolbar (toolbar group name).
			toolbar: &#x27;document&#x27;
		});

		// Register our dialog file. this.path is the plugin folder path.
		CKEDITOR.dialog.add(&#x27;table2Dialog&#x27;, this.path + &#x27;dialogs/table2.js&#x27;);

		if (editor.contextMenu) {
			editor.addMenuGroup(&#x27;table2Group&#x27;);
			editor.addMenuItem(&#x27;table2Item&#x27;, {
				label: editor.lang.table.toolbar,
				icon: this.path + &#x27;icons/table2.png&#x27;,
				command: &#x27;table2Dialog&#x27;,
				group: &#x27;table2Group&#x27;
			});
			editor.addMenuItem(&#x27;table2AddRowBefore&#x27;, {
				label: editor.lang.table.row.insertBefore,
				icon: this.path + &#x27;icons/insert_row.png&#x27;,
				command: &#x27;table2AddRowBefore&#x27;,
				group: &#x27;table2Group&#x27;
			});
			editor.addMenuItem(&#x27;table2AddRowAfter&#x27;, {
				label: editor.lang.table.row.insertAfter,
				icon: this.path + &#x27;icons/insert_row.png&#x27;,
				command: &#x27;table2AddRowAfter&#x27;,
				group: &#x27;table2Group&#x27;
			});
			editor.addMenuItem(&#x27;table2DeleteRow&#x27;, {
				label: editor.lang.table.row.deleteRow,
				icon: this.path + &#x27;icons/delete_row.png&#x27;,
				command: &#x27;table2DeleteRow&#x27;,
				group: &#x27;table2Group&#x27;
			});
			editor.addMenuItem(&#x27;table2ResizeColumns&#x27;, {
				label: editor.lang.table.column.resize || &#x27;Resize Columns&#x27;,
				icon: this.path + &#x27;icons/resizeColumns.png&#x27;,
				command: &#x27;table2ResizeColumns&#x27;,
				group: &#x27;table2Group&#x27;
			});
			editor.addMenuItem(&#x27;table2DeleteTable&#x27;, {
				label: editor.lang.table.deleteTable,
				icon: this.path + &#x27;icons/deleteTable.png&#x27;,
				command: &#x27;table2DeleteTable&#x27;,
				group: &#x27;table2Group&#x27;
			});
			editor.addMenuItem(&#x27;table2DropColumn&#x27;, {
				label: editor.lang.table.column.deleteColumn,
				icon: this.path + &#x27;icons/deleteColumn.png&#x27;,
				command: &#x27;table2DropColumn&#x27;,
				group: &#x27;table2Group&#x27;
			});
			editor.addMenuItem(&#x27;table2InsertColumnBefore&#x27;, {
				label: editor.lang.table.column.insertBefore,
				icon: this.path + &#x27;icons/insertColumn.png&#x27;,
				command: &#x27;table2InsertColumnBefore&#x27;,
				group: &#x27;table2Group&#x27;
			});

			editor.addMenuItem(&#x27;table2InsertColumnAfter&#x27;, {
				label: editor.lang.table.column.insertAfter,
				icon: this.path + &#x27;icons/insertColumn.png&#x27;,
				command: &#x27;table2InsertColumnAfter&#x27;,
				group: &#x27;table2Group&#x27;
			});

			editor.contextMenu.addListener(function (element) {
				var rowMarker = (new Row()).getType(), // the label by which the rows are marked
					markerName  = NEWSLETTER[&#x27;marker-name&#x27;],
					el = findAscendant(element, function (el) {
					return (el.getName() === &#x27;tr&#x27; &amp;&amp; el.getAttribute(markerName) === rowMarker);
				});
				if (el) {
					return {
						table2AddRowBefore: CKEDITOR.TRISTATE_OFF,
						table2AddRowAfter: CKEDITOR.TRISTATE_OFF,
						table2DeleteRow: CKEDITOR.TRISTATE_OFF
					};
				}
			});

			editor.contextMenu.addListener(function (element) {
				var tableMarker = (new Table()).getType(), // string with which tables are marked
					el = findAscendant(element, function (el) {
					return (el.getName() === &#x27;table&#x27; &amp;&amp; el.getAttribute(NEWSLETTER[&#x27;marker-name&#x27;]) === tableMarker);
				}),
				menuObj, elemObj;
				if (el) {
					menuObj = {
						table2DeleteTable: CKEDITOR.TRISTATE_OFF,
						table2InsertColumnBefore: CKEDITOR.TRISTATE_OFF,
						table2InsertColumnAfter: CKEDITOR.TRISTATE_OFF
					};

					// some get info about clicked table
					elemObj = el.getOuterHtml().createTableFromHtml();
					// if the table has more than one column, than add possibility to drop columns and to resize them.
					if (elemObj.colNum() &gt; 1){
						menuObj.table2ResizeColumns = CKEDITOR.TRISTATE_OFF;
						menuObj.table2DropColumn = CKEDITOR.TRISTATE_OFF;
					}
					return menuObj;
				}
			});
		}
	}
});


CKEDITOR.dialog.add(&#x27;table2ResizeColumnsDialog&#x27;, function (editor) {
	return {
		title: editor.lang.table.column.resize,
		minWidth: &quot;80em&quot;,
		minHeight: &quot;10em&quot;,
		contents: [{
			id: &#x27;tab1&#x27;,
			label: &#x27;Columns Resize&#x27;,
			elements: [{
				type: &#x27;html&#x27;,
				html: &#x27;&lt;div id=&quot;infoCol&quot;&gt;&lt;/div&gt;&#x27;,
			}, {
				type: &#x27;html&#x27;,
				html: &#x27;&lt;div id=&quot;hiddenDiv&quot;&gt;Dimensioni desiderate:&lt;/div&gt;&#x27;
			}
			]
		}
		],

		onShow: function () {
			var hiddenDiv = CKEDITOR.document.getById(&#x27;hiddenDiv&#x27;),
				infoCol  = 	CKEDITOR.document.getById(&#x27;infoCol&#x27;),
				colField, i,
				markerName  = NEWSLETTER[&#x27;marker-name&#x27;],
				tableMarker = (new Table()).getType(),
				currentElem = editor.getSelection().getStartElement(),
				table = findAscendant(currentElem, function(el){
					return el.getName() === &#x27;table&#x27; &amp;&amp;
						el.getAttribute(markerName) === tableMarker;
			});
			// exit if the table is not found
			if (!table){
				return null;
			}

			var tableObj = table.getOuterHtml().createTableFromHtml(),
				profile = tableObj.getProfile(),
				totWidth = trace(profile),
				colNum = profile.length,
				unit = &#x27;px&#x27;,
				cellWidthStr = profile.map(function(el){
						return el + &#x27; &#x27; + unit;
					}).join(&#x27; + &#x27;);

			// override the field with current info about cell widths
			infoCol.setHtml(&#x27;Dimensioni attuali delle colonne: &#x27; + cellWidthStr + &#x27; = &#x27; + totWidth + &#x27; &#x27; + unit);

			// input fields for resizing
			var inputFields = hiddenDiv.getElementsByTag(&#x27;input&#x27;),
				len = inputFields.count();
			// remove the items starting from the end.
			for (i = len-1; i &gt;= 0; i--){
				inputFields.getItem(i).remove();
			}
			// appending input fields for insertion of the cell widths
			for (i = 0; i &lt; colNum; i++){
				colField = new CKEDITOR.dom.element(&#x27;input&#x27;);
				colField.setAttribute(&#x27;type&#x27;, &#x27;text&#x27;);
				colField.setAttribute(&#x27;id&#x27;, &#x27;colField&#x27; + i);
				colField.setValue(profile[i]);
				colField.setAttribute(&#x27;class&#x27;, &#x27;cke_dialog_ui_input_text&#x27;);
				colField.setStyle(&#x27;width&#x27;, &#x27;5em&#x27;);
				colField.setStyle(&#x27;text-align&#x27;, &#x27;center&#x27;);
				// to all but last field, attach listeners that &quot;validate&quot; user input
				if (i &lt; colNum - 1){
					colField.on(&#x27;change&#x27;, function(){
						var allButLast = 0, last, j,
							currentInput = parseInt(this.getValue(), 10),
							lastOld,
							inputFields2 = CKEDITOR.document.getById(&#x27;hiddenDiv&#x27;).getElementsByTag(&#x27;input&#x27;);
						len = inputFields2.count();
						for (j = 0; j &lt; len - 1; j++){
							allButLast += parseInt(inputFields2.getItem(j).getValue(), 10);
						}
						// value of the last cell before any modifications
						lastOld = parseInt(inputFields2.getItem(len - 1).getValue(), 10);
						// if positive, the last cell should have this width
						last = totWidth - allButLast;
						if (last &gt; 0){
							inputFields2.getItem(len - 1).setValue(last);
						} else {
							// re-impose the previous value of the input field
							this.setValue(currentInput + last - lastOld);
						}
					});
				} else {
					// the last field is made non-editable
					colField.setAttribute(&#x27;disabled&#x27;, &#x27;true&#x27;);
				}
				hiddenDiv.append(colField);
			}
		},

		onOk: function () {
			var hiddenDiv = CKEDITOR.document.getById(&#x27;hiddenDiv&#x27;),
				inputFields = hiddenDiv.getElementsByTag(&#x27;input&#x27;),
				len = inputFields.count(),
				userInput = [],
				currentElem, table, currentTable, tableStr, tableElem,
				i;
			for (i = 0; i &lt; len; i++){
				userInput[i] = parseInt(inputFields.getItem(i).getValue(), 10);
			}

			currentElem = editor.getSelection().getStartElement();
			table = findAscendant(currentElem, function(el){
				return el.getName() === &#x27;table&#x27; &amp;&amp;
					el.getAttribute(NEWSLETTER[&#x27;marker-name&#x27;] ) === (new Table()).getType();
			});
			currentTable = table.getOuterHtml().createTableFromHtml();
			currentTable.setProfile(userInput);

			tableStr = currentTable.toHtml();
			tableElem = CKEDITOR.dom.element.createFromHtml(tableStr);
			table.remove();
			// call a custom method to insert the table and assign hovering effects on it
			editor.insertTableWithHoverEff(tableElem);
		}
	};
});

CKEDITOR.dialog.add(&#x27;table2DropColumnDialog&#x27;, function (editor) {
	return {
		title: editor.lang.table.column.deleteColumn,
		minWidth: &#x27;80em&#x27;,
		minHeight: &#x27;10em&#x27;,
		contents: [{
			id: &#x27;tab1&#x27;,
			label: &#x27;Togliere colonna&#x27;,
			elements: [{
				type: &#x27;html&#x27;,
				html: &#x27;Sei sicuro di voler eliminare la colonna evidenziata?&#x27;,
			}]
		}
		],

		onShow: function(){
			var currentElem = editor.getSelection().getStartElement(),
				markerName  = NEWSLETTER[&#x27;marker-name&#x27;],
				rowMarker   = (new Row()).getType(),
				cellMarker  = (new Cell()).getType(),
				tableMarker = (new Table()).getType(),
				tableElem = findAscendant(currentElem, function(el){
					return el.getName() === &#x27;table&#x27; &amp;&amp;
						el.getAttribute(markerName) === tableMarker;
				}),
				cellElem = findAscendant(currentElem, function(el){
					return el.getName() === &#x27;td&#x27; &amp;&amp;
						el.getAttribute(markerName) === cellMarker;
				}),
				cellNumber = cellElem.getIndex(),
				columnElems = tableElem.find(&#x27;tr[&#x27; + markerName + &#x27;=&quot;&#x27; + rowMarker + &#x27;&quot;] td[&#x27; +
					markerName + &#x27;=&quot;&#x27; + cellMarker + &#x27;&quot;]:nth-child(&#x27;+ (cellNumber + 1) +&#x27;)&#x27;),
				len = columnElems.count(),
				i,
				boxShadowValues = &#x27;0.05em 0.05em 0.5em 0.05em #8B0000&#x27;;

				for (i = 0; i &lt; len; i++){
					$(columnElems.getItem(i).$).css(&#x27;box-shadow&#x27;, boxShadowValues);
				}
		},

		onOk: function () {
			var markerName  = NEWSLETTER[&#x27;marker-name&#x27;],
				cellMarker  = (new Cell()).getType(),
				tableMarker = (new Table()).getType(),
				currentElem = editor.getSelection().getStartElement(),
				tableElem = findAscendant(currentElem, function(el){
					return el.getName() === &#x27;table&#x27; &amp;&amp;
						el.getAttribute(markerName) === tableMarker;
				}),
				cellElem = findAscendant(currentElem, function(el){
					return el.getName() === &#x27;td&#x27; &amp;&amp;
						el.getAttribute(markerName) === cellMarker;
				}),
				// column number to drop
				cellNumber = cellElem.getIndex(),

				tableObj = tableElem.getOuterHtml().createTableFromHtml(),
				colNum = tableObj.colNum(),
				tableStr, tableElem2;


			if (cellNumber &gt;= 0 &amp;&amp; cellNumber &lt; colNum){
				tableObj.dropColumn(cellNumber);
			}
			tableStr = tableObj.toHtml();
			tableElem2 = CKEDITOR.dom.element.createFromHtml(tableStr);
			tableElem.remove();
			// call a custom method to insert the table and assign hovering effects on it
			editor.insertTableWithHoverEff(tableElem2);
		}
	};
});

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
